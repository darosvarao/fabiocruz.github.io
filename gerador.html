<<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé® Gerador de Imagens AI - Fabio Cruz</title>
    <style>
        /* Estilos para integra√ß√£o no portf√≥lio c√≥smico */
        .generator-section {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 40px;
            margin: 40px 0;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .generator-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #8a7dff, #ffd08a);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }

        .generator-description {
            text-align: center;
            color: #ffffff;
            margin-bottom: 30px;
            font-size: 1.1rem;
            line-height: 1.6;
        }

        .generator-form {
            max-width: 600px;
            margin: 0 auto;
        }

        .form-group {
            margin-bottom: 25px;
        }

        .form-label {
            display: block;
            color: #ffffff;
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }

        .form-input, .form-select {
            width: 100%;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            font-size: 1rem;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-select:focus {
            outline: none;
            border-color: #8a7dff;
            box-shadow: 0 0 20px rgba(138, 125, 255, 0.3);
        }

        .form-input::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        .generate-btn {
            width: 100%;
            padding: 18px;
            background: linear-gradient(135deg, #8a7dff, #ffd08a);
            color: #000000;
            border: none;
            border-radius: 12px;
            font-size: 1.2rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }

        .generate-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 15px 30px rgba(138, 125, 255, 0.4);
        }

        .generate-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .usage-info {
            background: rgba(255, 208, 138, 0.1);
            border: 1px solid rgba(255, 208, 138, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .usage-info.premium {
            background: rgba(138, 125, 255, 0.1);
            border-color: rgba(138, 125, 255, 0.3);
        }

        .paypal-btn {
            background: #0070ba;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            margin: 10px;
            transition: all 0.3s ease;
        }

        .paypal-btn:hover {
            background: #005ea6;
            transform: translateY(-1px);
        }

        .generated-image {
            max-width: 100%;
            border-radius: 12px;
            margin: 20px 0;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .image-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .action-btn {
            padding: 10px 20px;
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
        }

        .action-btn:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-1px);
        }

        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .gallery-item {
            border-radius: 12px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .gallery-item:hover {
            transform: scale(1.05);
        }

        .gallery-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }

        .loading {
            text-align: center;
            color: #ffffff;
            font-size: 1.1rem;
            margin: 20px 0;
        }

        .translate-widget {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        @media (max-width: 768px) {
            .generator-section {
                padding: 20px;
                margin: 20px 10px;
            }
            
            .generator-title {
                font-size: 2rem;
            }
            
            .image-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .translate-widget {
                position: relative;
                top: auto;
                right: auto;
                margin: 20px 0;
                text-align: center;
            }
        }
    </style>
</head>
<body>
    <!-- Widget de Tradu√ß√£o Google -->
    <div class="translate-widget">
        <div id="google_translate_element"></div>
    </div>

    <div class="generator-section">
        <h1 class="generator-title">ü™Ñ Gerador de Imagens AI</h1>
        <p class="generator-description">
            Cria arte digital m√≠stica e kawaii com intelig√™ncia artificial! 
            <br>‚ú® 1 cria√ß√£o gr√°tis por dia ‚Ä¢ Imagens extras por apenas $1
        </p>

        <!-- Informa√ß√µes de Uso -->
        <div id="usageInfo" class="usage-info">
            <p id="usageText">üé® Tens 1 cria√ß√£o gratuita dispon√≠vel hoje!</p>
        </div>

        <!-- Formul√°rio de Gera√ß√£o -->
        <form class="generator-form" id="generatorForm">
            <div class="form-group">
                <label class="form-label" for="prompt">‚ú® Descreve a tua vis√£o art√≠stica:</label>
                <input 
                    type="text" 
                    id="prompt" 
                    class="form-input" 
                    placeholder="Ex: Uma deusa c√≥smica kawaii flutuando entre estrelas douradas..."
                    required
                >
            </div>

            <div class="form-group">
                <label class="form-label" for="style">üé® Estilo Art√≠stico:</label>
                <select id="style" class="form-select">
                    <option value="mystic">üîÆ M√≠stico & Espiritual</option>
                    <option value="kawaii">üå∏ Kawaii & Fofo</option>
                    <option value="cosmic">üåå C√≥smico & Celestial</option>
                    <option value="anime">‚≠ê Anime & Manga</option>
                    <option value="fantasy">üßö Fantasy & M√°gico</option>
                    <option value="cyberpunk">ü§ñ Cyberpunk & Futurista</option>
                </select>
            </div>

            <div class="form-group">
                <label class="form-label" for="format">üìê Formato da Imagem:</label>
                <select id="format" class="form-select">
                    <option value="square">‚¨ú Quadrado (1:1)</option>
                    <option value="landscape">üñºÔ∏è Paisagem (16:9)</option>
                    <option value="portrait">üì± Retrato (9:16)</option>
                </select>
            </div>

            <button type="submit" class="generate-btn" id="generateBtn">
                ü™Ñ Criar Magia Digital
            </button>
        </form>

        <!-- √Årea de Loading -->
        <div id="loading" class="loading" style="display: none;">
            ‚ú® Criando a tua obra de arte... Aguarda alguns segundos! üé®
        </div>

        <!-- Imagem Gerada -->
        <div id="imageResult" style="display: none; text-align: center;">
            <canvas id="finalCanvas" class="generated-image"></canvas>
            <div class="image-actions">
                <button class="action-btn" onclick="downloadImage()">üíæ Download</button>
                <button class="action-btn" onclick="shareImage()">üì§ Partilhar</button>
                <button class="action-btn" onclick="addToGallery()">üñºÔ∏è Adicionar √† Galeria</button>
            </div>
        </div>

        <!-- Galeria -->
        <div id="gallery" class="gallery"></div>
    </div>

    <!-- Scripts -->
    <script src="https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID&currency=USD"></script>
    <script>
        // Configura√ß√µes
        const PAYPAL_EMAIL = 'ninotuga@hotmail.com';
        const PRICE_PER_IMAGE = 1.00;
        const WATERMARK_TEXT = 'üåü FABIO CRUZ ‚Ä¢ DIGITAL ARTIST';
        
        // Estado da aplica√ß√£o
        let dailyUsage = getDailyUsage();
        let isPremium = checkPremiumStatus();
        let generatedImages = getStoredImages();

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            updateUsageInfo();
            loadGallery();
            setupForm();
        });

        // Configurar formul√°rio
        function setupForm() {
            document.getElementById('generatorForm').addEventListener('submit', handleGenerate);
        }

        // Lidar com gera√ß√£o de imagem
        async function handleGenerate(e) {
            e.preventDefault();
            
            if (!canGenerate()) {
                showPaymentModal();
                return;
            }

            const prompt = document.getElementById('prompt').value;
            const style = document.getElementById('style').value;
            const format = document.getElementById('format').value;

            await generateImage(prompt, style, format);
        }

        // Verificar se pode gerar
        function canGenerate() {
            return dailyUsage.count < 1 || isPremium;
        }

        // Gerar imagem
        async function generateImage(prompt, style, format) {
            showLoading(true);
            
            try {
                // Construir prompt melhorado
                const enhancedPrompt = buildEnhancedPrompt(prompt, style);
                
                // Chamar API de gera√ß√£o (Pollinations AI)
                const imageUrl = await callImageAPI(enhancedPrompt, format);
                
                // Adicionar marca d'√°gua
                await addWatermarkAndDisplay(imageUrl);
                
                // Atualizar contadores
                updateUsageCount();
                updateUsageInfo();
                
            } catch (error) {
                console.error('Erro ao gerar imagem:', error);
                alert('Erro ao gerar imagem. Tenta novamente!');
            } finally {
                showLoading(false);
            }
        }

        // Construir prompt melhorado
        function buildEnhancedPrompt(prompt, style) {
            const stylePrompts = {
                mystic: 'mystical, spiritual, ethereal, magical aura, divine light',
                kawaii: 'kawaii, cute, adorable, pastel colors, soft lighting',
                cosmic: 'cosmic, celestial, stars, nebula, galaxy, space',
                anime: 'anime style, manga art, detailed, vibrant colors',
                fantasy: 'fantasy art, magical, enchanted, fairy tale',
                cyberpunk: 'cyberpunk, futuristic, neon lights, digital art'
            };
            
            return `${prompt}, ${stylePrompts[style]}, high quality, detailed, artistic, beautiful`;
        }

        // Chamar API de imagem
        async function callImageAPI(prompt, format) {
            const dimensions = {
                square: '512x512',
                landscape: '768x432',
                portrait: '432x768'
            };
            
            const size = dimensions[format] || '512x512';
            const apiUrl = `https://image.pollinations.ai/prompt/${encodeURIComponent(prompt)}?width=${size.split('x')[0]}&height=${size.split('x')[1]}`;
            
            return apiUrl;
        }

        // Adicionar marca d'√°gua e exibir
        async function addWatermarkAndDisplay(imageUrl) {
            const canvas = document.getElementById('finalCanvas');
            const ctx = canvas.getContext('2d');
            
            // Carregar imagem
            const img = new Image();
            img.crossOrigin = 'anonymous';
            
            return new Promise((resolve) => {
                img.onload = function() {
                    // Configurar canvas
                    canvas.width = img.width;
                    canvas.height = img.height;
                    
                    // Desenhar imagem
                    ctx.drawImage(img, 0, 0);
                    
                    // Adicionar marca d'√°gua
                    addWatermark(ctx, canvas.width, canvas.height);
                    
                    // Mostrar resultado
                    document.getElementById('imageResult').style.display = 'block';
                    resolve();
                };
                
                img.src = imageUrl;
            });
        }

        // Adicionar marca d'√°gua
        function addWatermark(ctx, width, height) {
            // Configurar texto
            const fontSize = Math.max(16, width * 0.03);
            ctx.font = `bold ${fontSize}px Arial`;
            ctx.fillStyle = 'rgba(255, 255, 255, 0.8)';
            ctx.strokeStyle = 'rgba(0, 0, 0, 0.5)';
            ctx.lineWidth = 2;
            
            // Posicionar no canto inferior direito
            const x = width - ctx.measureText(WATERMARK_TEXT).width - 20;
            const y = height - 20;
            
            // Desenhar marca d'√°gua
            ctx.strokeText(WATERMARK_TEXT, x, y);
            ctx.fillText(WATERMARK_TEXT, x, y);
        }

        // Mostrar modal de pagamento
        function showPaymentModal() {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.8); display: flex; justify-content: center;
                align-items: center; z-index: 10000;
            `;
            
            modal.innerHTML = `
                <div style="background: #1a1a2e; padding: 40px; border-radius: 20px; text-align: center; max-width: 400px; margin: 20px;">
                    <h2 style="color: #8a7dff; margin-bottom: 20px;">üé® Criar Mais Arte?</h2>
                    <p style="color: white; margin-bottom: 30px;">
                        J√° usaste a tua cria√ß√£o gratuita de hoje!<br>
                        <strong>Desbloqueia cria√ß√µes ilimitadas por apenas $1</strong>
                    </p>
                    <div id="paypal-button-container"></div>
                    <button onclick="this.parentElement.parentElement.remove()" 
                            style="background: transparent; color: #888; border: 1px solid #444; 
                                   padding: 10px 20px; border-radius: 8px; margin-top: 20px; cursor: pointer;">
                        Cancelar
                    </button>
                </div>
            `;
            
            document.body.appendChild(modal);
            
            // Configurar bot√£o PayPal
            paypal.Buttons({
                createOrder: function(data, actions) {
                    return actions.order.create({
                        purchase_units: [{
                            amount: {
                                value: PRICE_PER_IMAGE.toFixed(2)
                            },
                            description: 'Gerador de Imagens AI - Acesso Premium 24h'
                        }]
                    });
                },
                onApprove: function(data, actions) {
                    return actions.order.capture().then(function(details) {
                        // Ativar premium
                        activatePremium();
                        modal.remove();
                        alert('üéâ Premium ativado! Agora podes criar imagens ilimitadas por 24h!');
                        updateUsageInfo();
                    });
                }
            }).render('#paypal-button-container');
        }

        // Ativar premium
        function activatePremium() {
            const premiumUntil = new Date();
            premiumUntil.setHours(premiumUntil.getHours() + 24);
            localStorage.setItem('premiumUntil', premiumUntil.toISOString());
            isPremium = true;
        }

        // Verificar status premium
        function checkPremiumStatus() {
            const premiumUntil = localStorage.getItem('premiumUntil');
            if (!premiumUntil) return false;
            
            const expiry = new Date(premiumUntil);
            const now = new Date();
            
            if (now > expiry) {
                localStorage.removeItem('premiumUntil');
                return false;
            }
            
            return true;
        }

        // Obter uso di√°rio
        function getDailyUsage() {
            const today = new Date().toDateString();
            const stored = localStorage.getItem('dailyUsage');
            
            if (!stored) {
                return { date: today, count: 0 };
            }
            
            const usage = JSON.parse(stored);
            if (usage.date !== today) {
                return { date: today, count: 0 };
            }
            
            return usage;
        }

        // Atualizar contador de uso
        function updateUsageCount() {
            if (!isPremium) {
                dailyUsage.count++;
                localStorage.setItem('dailyUsage', JSON.stringify(dailyUsage));
            }
        }

        // Atualizar informa√ß√µes de uso
        function updateUsageInfo() {
            const infoDiv = document.getElementById('usageInfo');
            const textEl = document.getElementById('usageText');
            
            if (isPremium) {
                infoDiv.className = 'usage-info premium';
                textEl.textContent = 'üëë Premium Ativo - Cria√ß√µes Ilimitadas!';
            } else if (dailyUsage.count >= 1) {
                infoDiv.className = 'usage-info';
                textEl.textContent = '‚è∞ Limite di√°rio atingido. Pr√≥xima cria√ß√£o gr√°tis amanh√£ ou paga $1 agora!';
            } else {
                infoDiv.className = 'usage-info';
                textEl.textContent = 'üé® Tens 1 cria√ß√£o gratuita dispon√≠vel hoje!';
            }
        }

        // Mostrar loading
        function showLoading(show) {
            document.getElementById('loading').style.display = show ? 'block' : 'none';
            document.getElementById('generateBtn').disabled = show;
        }

        // Download da imagem
        function downloadImage() {
            const canvas = document.getElementById('finalCanvas');
            const link = document.createElement('a');
            link.download = `fabio-cruz-ai-art-${Date.now()}.png`;
            link.href = canvas.toDataURL();
            link.click();
        }

        // Partilhar imagem
        function shareImage() {
            const canvas = document.getElementById('finalCanvas');
            canvas.toBlob(function(blob) {
                if (navigator.share) {
                    const file = new File([blob], 'ai-art.png', { type: 'image/png' });
                    navigator.share({
                        title: 'Arte AI criada por Fabio Cruz',
                        text: 'V√™ esta arte incr√≠vel que criei!',
                        files: [file]
                    });
                } else {
                    // Fallback para browsers sem suporte
                    const url = URL.createObjectURL(blob);
                    window.open(`https://twitter.com/intent/tweet?text=Arte AI incr√≠vel criada em fabiocruz.github.io!&url=${encodeURIComponent(url)}`);
                }
            });
        }

        // Adicionar √† galeria
        function addToGallery() {
            const canvas = document.getElementById('finalCanvas');
            const imageData = canvas.toDataURL();
            
            generatedImages.unshift({
                id: Date.now(),
                data: imageData,
                timestamp: new Date().toISOString()
            });
            
            // Manter apenas √∫ltimas 20 imagens
            if (generatedImages.length > 20) {
                generatedImages = generatedImages.slice(0, 20);
            }
            
            localStorage.setItem('generatedImages', JSON.stringify(generatedImages));
            loadGallery();
        }

        // Carregar galeria
        function loadGallery() {
            const gallery = document.getElementById('gallery');
            gallery.innerHTML = '';
            
            generatedImages.forEach(img => {
                const item = document.createElement('div');
                item.className = 'gallery-item';
                item.innerHTML = `<img src="${img.data}" alt="AI Art">`;
                item.onclick = () => showImageModal(img.data);
                gallery.appendChild(item);
            });
        }

        // Mostrar modal da imagem
        function showImageModal(imageSrc) {
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed; top: 0; left: 0; width: 100%; height: 100%;
                background: rgba(0,0,0,0.9); display: flex; justify-content: center;
                align-items: center; z-index: 10000; cursor: pointer;
            `;
            modal.innerHTML = `<img src="${imageSrc}" style="max-width: 90%; max-height: 90%; border-radius: 12px;">`;
            modal.onclick = () => modal.remove();
            document.body.appendChild(modal);
        }

        // Obter imagens armazenadas
        function getStoredImages() {
            const stored = localStorage.getItem('generatedImages');
            return stored ? JSON.parse(stored) : [];
        }
    </script>

    <!-- Google Translate -->
    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({
                pageLanguage: 'pt',
                includedLanguages: 'en,es,fr,de,it,ja,ko,zh',
                layout: google.translate.TranslateElement.InlineLayout.SIMPLE,
                autoDisplay: false
            }, 'google_translate_element');
        }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
</body>
</html>



